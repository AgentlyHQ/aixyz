# Configuration

## `aixyz.config.ts`

| Field          | Type           | Required | Description                              |
| -------------- | -------------- | -------- | ---------------------------------------- |
| `name`         | `string`       | Yes      | Agent display name                       |
| `description`  | `string`       | Yes      | What the agent does                      |
| `version`      | `string`       | Yes      | Semver version                           |
| `url`          | `string`       | No       | Agent base URL (auto-detected on Vercel) |
| `x402.payTo`   | `string`       | Yes      | EVM address to receive payments          |
| `x402.network` | `string`       | Yes      | CAIP-2 chain ID (e.g. `eip155:8453`)     |
| `skills`       | `AgentSkill[]` | Yes      | Skills exposed in the A2A agent card     |

### AgentSkill

| Field         | Type       | Required | Description             |
| ------------- | ---------- | -------- | ----------------------- |
| `id`          | `string`   | Yes      | Unique skill identifier |
| `name`        | `string`   | Yes      | Skill display name      |
| `description` | `string`   | Yes      | What the skill does     |
| `tags`        | `string[]` | Yes      | Categorization tags     |
| `examples`    | `string[]` | No       | Example prompts         |
| `inputModes`  | `string[]` | No       | Input MIME types        |
| `outputModes` | `string[]` | No       | Output MIME types       |

### URL Resolution

If `url` is omitted:

1. `https://${VERCEL_PROJECT_PRODUCTION_URL}` (Vercel production)
2. `https://${VERCEL_URL}` (Vercel preview)
3. `http://localhost:3000` (fallback)

### Payment Networks

| Network      | CAIP-2 ID      |
| ------------ | -------------- |
| Base         | `eip155:8453`  |
| Base Sepolia | `eip155:84532` |
| Ethereum     | `eip155:1`     |

Switch per environment:

```ts
network: process.env.NODE_ENV === "production" ? "eip155:8453" : "eip155:84532",
```

## Accepts

```ts
import type { Accepts } from "aixyz/accepts";

// x402 payment
{ scheme: "exact", price: "$0.005" }

// With overrides
{ scheme: "exact", price: "$0.005", network: "eip155:8453", payTo: "0x..." }

// Free (not yet fully supported)
{ scheme: "free" }
```

Prices are USD strings: `"$0.005"`, `"$0.01"`, `"$0.0001"`.

## Environment Variables

Loaded in Next.js order: `process.env` > `.env.$(NODE_ENV).local` > `.env.local` > `.env.$(NODE_ENV)` > `.env`

| Variable               | Description                                            |
| ---------------------- | ------------------------------------------------------ |
| `OPENAI_API_KEY`       | OpenAI API key                                         |
| `X402_PAY_TO`          | Default payment recipient address                      |
| `X402_NETWORK`         | Default payment network                                |
| `X402_FACILITATOR_URL` | Custom x402 facilitator                                |
| `CDP_API_KEY_ID`       | Coinbase CDP key ID (switches to Coinbase facilitator) |
| `CDP_API_KEY_SECRET`   | Coinbase CDP key secret                                |
| `STRIPE_SECRET_KEY`    | Experimental Stripe adapter                            |
| `STRIPE_PRICE_CENTS`   | Stripe price in cents (default: 100)                   |
