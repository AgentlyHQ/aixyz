# ⟡ ai-xyz.dev

**The deployment and monetization layer for autonomous AI agents**

Bundle AI agents from any framework into deployable services. A2A, MCP, x402 payments, and ERC-8004 identity get wired up for you.

[![npm](https://img.shields.io/npm/v/aixyz)](https://www.npmjs.com/package/aixyz) [![License](https://img.shields.io/badge/license-MIT-blue.svg)](https://github.com/AgentlyHQ/aixyz/blob/main/LICENSE)

---

## What is ai-xyz.dev?

ai-xyz.dev is a framework that takes your AI agent (built with any framework) and automatically wires up:

- **Agent-to-Agent (A2A)** protocol for discovery and communication
- **Model Context Protocol (MCP)** for tool sharing
- **x402 micropayments** for monetizing API access
- **ERC-8004 identity** for on-chain verification

Instead of manually implementing these protocols, you focus on your agent's logic while ai-xyz.dev handles the infrastructure.

---

## Quickstart

### 1. Create a new project

```bash
pnpm create aixyz-app my-agent
cd my-agent
pnpm install
```

### 2. Configure your agent

Create `aixyz.config.ts`:

```ts
import type { AixyzConfig } from "aixyz";

const config: AixyzConfig = {
  name: "My Agent",
  description: "What your agent does in one sentence.",
  version: "1.0.0",
  network: "eip155:1",
  x402: {
    payTo: process.env.X402_PAY_TO!,
    network: "eip155:8453", // Base
  },
  skills: [
    {
      id: "my-skill",
      name: "My Skill",
      description: "Describe what this skill does",
      tags: ["example"],
    },
  ],
};

export default config;
```

### 3. Write your agent

Use whichever framework you prefer:

```ts
// src/agent.ts
import { openai } from "@ai-sdk/openai";
import { stepCountIs, ToolLoopAgent } from "ai";
import myTool from "./tools/my-tool";

export const agent = new ToolLoopAgent({
  model: openai("gpt-4o-mini"),
  instructions: "You are a helpful agent that...",
  tools: { myTool },
  stopWhen: stepCountIs(10),
});
```

### 4. Wire it up

```ts
// src/index.ts
import { AixyzRequestHandler, initExpressApp, getAixyzConfig } from "aixyz";
import { ToolLoopAgentExecutor } from "aixyz/server/adapters/ai";
import { InMemoryTaskStore } from "@a2a-js/sdk/server";
import { agent } from "./agent";

const config = getAixyzConfig();
const handler = new AixyzRequestHandler(new InMemoryTaskStore(), new ToolLoopAgentExecutor(agent));

const x402Routes = {
  "POST /agent": {
    accepts: {
      scheme: "exact",
      price: "$0.01",
      network: config.x402.network,
      payTo: config.x402.payTo,
    },
    mimeType: "application/json",
    description: "Payment for agent API access",
  },
};

export default await initExpressApp(handler, x402Routes);
```

### 5. Run locally

```bash
bun run dev
```

Your agent is now available at:

| Endpoint                       | Protocol | Description                    |
| ------------------------------ | -------- | ------------------------------ |
| `/.well-known/agent-card.json` | A2A      | Agent discovery metadata       |
| `/agent`                       | A2A      | JSON-RPC endpoint (x402-gated) |
| `/mcp`                         | MCP      | Tool sharing                   |

---

## Framework Adapters

ai-xyz.dev supports multiple agent frameworks through adapters:

| Framework     | Adapter                  | Import                            |
| ------------- | ------------------------ | --------------------------------- |
| Vercel AI SDK | `ToolLoopAgentExecutor`  | `aixyz/server/adapters/ai`        |
| LangChain     | `LangChainAgentExecutor` | `aixyz/server/adapters/langchain` |
| Mastra        | `MastraAgentExecutor`    | `aixyz/server/adapters/mastra`    |

If your framework isn't listed, implement the `AgentExecutor` interface directly. It's one method:

```ts
interface AgentExecutor {
  execute(task: Task): Promise<TaskResult>;
}
```

---

## Configuration Reference

| Field          | Type           | Required | Description                                    |
| -------------- | -------------- | -------- | ---------------------------------------------- |
| `name`         | `string`       | Yes      | Display name                                   |
| `description`  | `string`       | Yes      | What your agent does                           |
| `version`      | `string`       | Yes      | Semver version                                 |
| `url`          | `string`       | No       | Base URL (auto-detected on Vercel)             |
| `network`      | `string`       | Yes      | Network identifier (e.g., `eip155:1`)          |
| `x402.payTo`   | `string`       | Yes      | Payment recipient address                      |
| `x402.network` | `string`       | Yes      | Payment network (e.g., `eip155:8453` for Base) |
| `skills`       | `AgentSkill[]` | Yes      | Skills your agent exposes                      |

---

## CLI Commands

```bash
# Development
aixyz dev              # Start local dev server with hot reload

# Build & Deploy
aixyz build            # Bundle for Vercel deployment
vercel deploy          # Deploy to Vercel

# On-chain Identity
agently-cli register   # Register agent on ERC-8004
agently-cli set-agent-uri  # Update agent metadata URI
```

`aixyz build` loads your config, detects the entrypoint, bundles with Bun, and outputs Vercel Build Output API v3 structure.

---

## Protocols

### A2A (Agent-to-Agent)

Generates your agent card and JSON-RPC endpoint so other agents can discover and communicate with yours.

**Agent Card** (`/.well-known/agent-card.json`):

```json
{
  "name": "My Agent",
  "description": "What your agent does",
  "url": "https://my-agent.vercel.app",
  "skills": [...]
}
```

### MCP (Model Context Protocol)

Exposes your tools to any MCP-compatible client (Claude Desktop, VS Code, etc.).

**Endpoint**: `/mcp`

### x402 Micropayments

Gates API access behind HTTP 402 micropayments. No custodial wallets, no subscriptions.

Clients include payment proof in the `X-Payment` header. Your agent verifies the proof and grants access.

### ERC-8004 Identity

Gives your agent a verifiable on-chain identity that other agents and smart contracts can reference.

**Registry**: Ethereum mainnet, Base, and other EVM chains

---

## Deployment

### Vercel (Recommended)

```bash
aixyz build
vercel deploy
```

Vercel automatically detects the build output and deploys your agent.

### Docker

```dockerfile
FROM oven/bun:1.3.9
WORKDIR /app
COPY . .
RUN bun install
RUN bun run build
CMD ["bun", "run", "start"]
```

### Railway / Fly.io

Use the Dockerfile or deploy the build output directly.

---

## Project Structure

```
my-agent/
  aixyz.config.ts     # Agent configuration
  src/
    index.ts          # Entrypoint (adapter + express app)
    agent.ts          # Agent definition
    tools/            # Tool implementations
      my-tool.ts
  public/             # Static assets (optional)
  package.json
  tsconfig.json
```

---

## Examples

The repository includes working examples:

- **agent-boilerplate** - Minimal starter template
- **agent-price-oracle** - Cryptocurrency price oracle using CoinGecko
- **agent-travel** - Flight search with Stripe payment integration
- **agent-job-hunter** - Job search agent
- **agent-chainlink** - Chainlink data feeds integration

Browse the [examples directory](https://github.com/AgentlyHQ/aixyz/tree/main/examples) for code patterns.

---

## Contributing

```bash
bun install
bun run dev
bun run format  # Before committing
```

### GitHub Codespaces

This repository is fully configured for [GitHub Codespaces](https://github.com/features/codespaces) with Bun pre-installed.

Click **Code** → **Codespaces** → **Create codespace** to start developing in your browser with zero setup.

---

## Why ai-xyz.dev?

**Before**:

- Manually implement A2A protocol
- Wire up MCP server
- Build payment infrastructure
- Handle on-chain identity
- Deploy and maintain infrastructure

**After**:

- Write your agent logic
- Add `aixyz.config.ts`
- Run `aixyz build && vercel deploy`
- Done

Focus on what your agent does, not how it talks to other agents or gets paid.

---

## License

MIT - see [LICENSE](https://github.com/AgentlyHQ/aixyz/blob/main/LICENSE)

---

**Links**

- [GitHub](https://github.com/AgentlyHQ/aixyz)
- [npm](https://www.npmjs.com/package/aixyz)
- [Examples](https://github.com/AgentlyHQ/aixyz/tree/main/examples)
